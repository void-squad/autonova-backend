server:
  port: ${SERVER_PORT:8080}

spring:
  config:
    import: optional:file:.env[.properties]
  application:
    name: progressmonitoring
  rabbitmq:
    host: ${SPRING_RABBITMQ_HOST:rabbitmq}
    port: ${SPRING_RABBITMQ_PORT:5672}
    username: ${SPRING_RABBITMQ_USERNAME:guest}
    exchange: ${APP_RABBIT_EXCHANGE:autonova.events}
    queue: ${APP_RABBIT_QUEUE:progress.project.queue}
    routingKey: ${APP_RABBIT_ROUTING_KEY:project.*}
  rabbit:
    exchange: ${APP_RABBIT_EXCHANGE:autonova.events}
    queue: ${APP_RABBIT_QUEUE:progress.project.queue}
    routing-key: ${APP_RABBIT_ROUTING_KEY:project.*}

  datasource:
    url: jdbc:postgresql://${POSTGRES_HOST:${SPRING_DATASOURCE_HOST:localhost}}:${POSTGRES_PORT:${SPRING_DATASOURCE_PORT:5432}}/${POSTGRES_DB:${SPRING_DATASOURCE_DB:progress}}
    username: ${POSTGRES_USER:${SPRING_DATASOURCE_USERNAME:postgres}}
    password: ${POSTGRES_PASSWORD:${SPRING_DATASOURCE_PASSWORD:postgres}}
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: ${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
    properties:
      hibernate:
        format_sql: true
        jdbc:
          time_zone: UTC

app:
  rabbit:
    exchange: ${APP_RABBIT_EXCHANGE:autonova.events}
    queue: ${APP_RABBIT_QUEUE:progress.project.queue}
    routing-keys: ${APP_RABBIT_ROUTING_KEYS:project.*,quote.*,project.change-request.*}

# JWT Configuration (must match auth-service)
jwt:
  secret: ${JWT_SECRET:YXV0b25vdmEtc2VjcmV0LWtleS1mb3Itand0LWF1dGhlbnRpY2F0aW9uLXNlcnZpY2UtMjAyNQ==}

# Logging Configuration
logging:
  level:
    com.autonova.progressmonitoring: DEBUG
    org.springframework.web: INFO
    org.springframework.security: DEBUG

