<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Invoice</title>
  <style type="text/css">
  /* <![CDATA[ */

  /* ------- Theme (compact) ------- */
  :root{
    --bg:#f6f8fb;
    --panel:#ffffff;
    --ink:#0f172a;
    --ink-2:#1f2937;
    --muted:#6b7280;
    --rule:#e5e7eb;
    --badge-bg:#e0f2fe;
    --badge-ink:#0369a1;
    --radius:12px;
    --shadow:0 10px 28px rgba(15,23,42,.07);
    --space:1.75rem; /* tighter vertical rhythm */
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    padding:0;
    background:var(--bg);
    color:var(--ink);
    font-family:"Lato", Arial, sans-serif;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    line-height:1.45; /* slightly tighter */
    font-size:15.5px; /* compact base size */
  }

  /* ------- Card ------- */
  .wrap{
    max-width:740px;
    margin:var(--space) auto;
    background:var(--panel);
    border:1px solid var(--rule);
    border-radius:var(--radius);
    box-shadow:var(--shadow);
    padding:calc(var(--space)*.8) calc(var(--space)*.95);
    break-inside:avoid-page;
    page-break-inside:avoid;
  }

  /* ------- Header ------- */
  .head{
    display:grid;
    grid-template-columns: 1fr auto;
    gap:.9rem 1.5rem;
    border-bottom:1px solid var(--rule);
    padding-bottom:.9rem;
    margin-bottom:1.15rem;
  }
  .brand .mark{
    display:block;
    font-size:.68rem;
    letter-spacing:.28rem;
    text-transform:uppercase;
    font-weight:800;
    color:#475569;
  }
  .brand .name{
    display:block;
    font-weight:800;
    font-size:1.28rem;
    color:var(--ink);
    margin-top:.18rem;
  }
  .brand .url{
    display:block;
    font-size:.9rem;
    color:#64748b;
    margin-top:.15rem;
  }

  .title{text-align:right;}
  .title h1{
    margin:0 0 .55rem 0;
    font-size:1.75rem;
    letter-spacing:.06rem;
    text-transform:uppercase;
  }

  /* ------- Meta Grid (semantic dl) ------- */
  .meta{
    border:1px solid var(--rule);
    border-radius:10px;
    background:#f8fafc;
    padding:.6rem .75rem;
  }
  .meta dl{
    margin:0;
    display:grid;
    grid-template-columns: 130px 1fr; /* smaller label column */
    column-gap:.8rem;
    row-gap:.45rem;
    align-items:baseline;
  }
  .meta dt{
    text-transform:uppercase;
    font-size:.62rem;
    letter-spacing:.11rem;
    font-weight:800;
    color:#8a99ad;
  }
  .meta dd{
    margin:0;
    padding-left:.75rem;
    border-left:1px solid var(--rule);
    color:var(--ink-2);
    font-size:.95rem;
    word-break:break-word;
  }
  .mono{
    font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
    font-weight:600;
    letter-spacing:.01rem;
  }
  .badge{
    display:inline-block;
    padding:.32rem .75rem;
    border-radius:999px;
    font-size:.7rem;
    font-weight:800;
    letter-spacing:.08rem;
    text-transform:uppercase;
    background:var(--badge-bg);
    color:var(--badge-ink);
    white-space:nowrap;
  }

  /* ------- Sections ------- */
  .grid{
    display:grid;
    grid-template-columns:repeat(2, minmax(0,1fr));
    gap:.9rem; /* tighter */
  }
  .card{
    border:1px solid var(--rule);
    border-radius:10px;
    padding:.95rem 1.05rem;
    background:linear-gradient(180deg, #ffffff 0%, #f8fafc 100%);
    min-height:110px; /* shorter */
  }
  .h6{
    margin:0 0 .5rem 0;
    font-size:.86rem;
    font-weight:900;
    text-transform:uppercase;
    letter-spacing:.06rem;
  }
  address{font-style:normal;}
  .card p{margin:.28rem 0; color:#334155; font-size:.94rem;}

  /* ------- Total ------- */
  .tot{
    margin-top:1.25rem;
    padding:1rem 1.1rem;
    border:1px solid var(--ink);
    border-radius:10px;
    background:linear-gradient(120deg, rgba(15,23,42,.07), rgba(30,41,59,.02));
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:.8rem;
  }
  .tot label{
    font-size:.72rem;
    letter-spacing:.16rem;
    text-transform:uppercase;
    font-weight:800;
    color:#475569;
  }
  .amount{
    font-size:1.8rem; /* down a notch */
    font-weight:900;
    letter-spacing:.01rem;
  }

  /* ------- Footer ------- */
  .foot{
    margin-top:1.25rem;
    padding-top:.85rem;
    border-top:1px solid var(--rule);
    font-size:.82rem;
    color:#64748b;
    text-align:center;
  }

  /* ------- Responsive ------- */
  @media (max-width: 640px){
    .wrap{margin:1rem auto; padding:1rem .9rem; border-radius:10px;}
    .head{grid-template-columns:1fr; gap:.75rem;}
    .title{text-align:left;}
    .meta dl{grid-template-columns:1fr;}
    .meta dd{border-left:none; padding-left:0;}
    .grid{grid-template-columns:1fr;}
    .amount{font-size:1.6rem;}
  }

  /* ------- Print: single page ------- */
  @media print{
    /* keep everything on one page for typical invoice content */
    @page { size: auto; margin: 0.5in; }
    body{background:#fff; font-size:14.5px;}
    .wrap{
      box-shadow:none;
      border:1px solid #dbe0e6;
      margin:0;
      padding:.9in .7in; /* compact print padding */
      max-width:none;
      page-break-before:avoid;
      page-break-after:avoid;
      page-break-inside:avoid;
      break-inside:avoid-page;
    }
    .head, .grid, .tot, .foot{
      page-break-inside:avoid;
      break-inside:avoid-page;
    }
    .tot{background:none !important; -webkit-print-color-adjust:exact; print-color-adjust:exact;}
    .badge{border:1px solid #93c5fd;}
  }

  /* ]]> */
  </style>
</head>
<body>
  <div class="wrap">
    <div class="head">
      <div class="brand">
        <span class="mark">Autonova</span>
        <span class="name">Payments &amp; Billing</span>
        <span class="url">www.autonova.com</span>
      </div>

      <div class="title" role="region" aria-label="Invoice meta">
        <h1>Invoice</h1>
        <div class="meta">
          <dl>
            <dt>Invoice ID</dt>
            <dd class="mono" th:text="${invoiceId}">00000000-0000-0000-0000-000000000000</dd>

            <dt>Project</dt>
            <dd class="mono" th:text="${projectId}">00000000-0000-0000-0000-000000000000</dd>

            <dt>Issued</dt>
            <dd th:text="${issueDate}">Oct 24, 2025</dd>

            <dt>Status</dt>
            <dd><span class="badge" th:text="${status}">Paid</span></dd>
          </dl>
        </div>
      </div>
    </div>

    <div class="grid">
      <div class="card">
        <h2 class="h6">Bill To</h2>
        <address>
          <p><strong th:text="${customerName}">Customer</strong></p>
          <p th:text="${customerEmail}">customer@example.com</p>
        </address>
      </div>

      <div class="card">
        <h2 class="h6">Details</h2>
        <p><strong>Currency</strong>: <span class="mono" th:text="${currencyCode}">LKR</span></p>
        <p><strong>Status</strong>: <span th:text="${status}">PAID</span></p>
        <p><strong>Project</strong>: <span class="mono" th:text="${projectId}">00000000-0000-0000-0000-000000000000</span></p>
      </div>
    </div>

    <div class="tot">
      <div><label>Total Due</label></div>
      <div class="amount" th:text="${amountDueFormatted}">LKR&nbsp;0.00</div>
    </div>

    <p class="foot">Thank you for partnering with Autonova. Questions? Email billing@autonova.com.</p>
  </div>
</body>
</html>
